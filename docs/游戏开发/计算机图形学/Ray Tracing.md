# Ray Tracing

## Shadow Mapping

![image-20250928221722769](assets/image-20250928221722769.png)

![image-20250928221850604](assets/image-20250928221850604.png)

ä½¿ç”¨Shadow Mappingæ— éœ€çŸ¥é“åœºæ™¯çš„å‡ ä½•ä¿¡æ¯

ç»å…¸Shadow Mappingåªèƒ½å¤„ç†ç‚¹å…‰æºä¸‹çš„é˜´å½±



![image-20250928222137342](assets/image-20250928222137342.png)

ä»å…‰æºå‘åœºæ™¯ä¸­çœ‹ï¼Œè®°å½•çœ‹åˆ°çš„â€œæ·±åº¦â€

![image-20250928222318853](assets/image-20250928222318853.png)

ç”¨æ‘„åƒæœºå†å»çœ‹åœºæ™¯ï¼Œå¯¹çœ‹åˆ°çš„ç‚¹åšä¸€ä¸ªå‘å…‰æºçš„è™šæ‹Ÿå±å¹•çš„æŠ•å½±ï¼Œæ¯”è¾ƒæŠ•å½±åé‚£ä¸ªç‚¹å¯¹äºå…‰æºçš„æ·±åº¦å’Œå…‰æºç¼“å­˜ç€çš„æ·±åº¦ï¼Œå¦‚æœå‰è€…æ¯”è¾ƒå¤§ï¼Œåˆ™å¯ä»¥è¯´æ˜é‚£ä¸ªç‚¹è¢«å…‰æºæŒ¡ä½äº†

![image-20250928222541837](assets/image-20250928222541837.png)

![image-20250928222725653](assets/image-20250928222725653.png)

![image-20250928222743619](assets/image-20250928222743619.png)

![image-20250928222815027](assets/image-20250928222815027.png)

![image-20250928222904244](assets/image-20250928222904244.png)

ç”±äºæµ®ç‚¹ç²¾åº¦çš„é—®é¢˜ï¼Œä¸Šé¢çš„Shadow Mappingä¼šæœ‰è¿™ç§æ¯›æ¯›èºèºçš„ä¸œè¥¿

å¹¶ä¸”Shadow Mappingçš„åˆ†è¾¨ç‡ä¹Ÿæœ‰å…³ï¼Œåˆ†è¾¨ç‡ä½é‡‡æ ·ç‡ä½å°±å®¹æ˜“èµ°æ ·

Shadow Mappingæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª**å…‰æ …åŒ–**ä¸Šçš„æ­¥éª¤

![image-20250928223527979](assets/image-20250928223527979.png)

![image-20250928223615227](assets/image-20250928223615227.png)

å¦‚æœå¿½ç•¥å…‰æºçš„å¤§å°ï¼Œé˜´å½±å°±ä¼šå¾ˆç¡¬



### é˜´å½±çš„è½¯ç¡¬â€”â€”æœ¬å½±ä¸åŠå½±

![image-20250928224007962](assets/image-20250928224007962.png)

æœ‰å¤§å°çš„å…‰æºèƒ½å¤Ÿäº§ç”ŸåŠå½±



## Ray Tracing

![image-20250929111022852](assets/image-20250929111022852.png)

Glossy reflectionï¼šå…‰æ»‘çš„åå°„ï¼Œä½†æ²¡æœ‰é‚£ä¹ˆå…‰æ»‘

å°½ç®¡å…‰æ …åŒ–èƒ½ä¸€å®šç¨‹åº¦ä¸Šå®ç°ä¸Šé¢çš„æ•ˆæœï¼Œä½†æ˜¯ç»ˆç©¶æ•ˆæœä¸å¤Ÿå¥½

![image-20250929111442927](assets/image-20250929111442927.png)



![image-20250929111635081](assets/image-20250929111635081.png)



### åŸºç¡€å…‰çº¿è¿½è¸ªç®—æ³•

![image-20250929112011517](assets/image-20250929112011517.png)

![image-20250929112213764](assets/image-20250929112213764.png)

![image-20250929112301629](assets/image-20250929112301629.png)

![image-20250929112423447](assets/image-20250929112423447.png)

åœ¨å…‰çº¿è¿½è¸ªä¸­ï¼Œæˆ‘ä»¬å‡è®¾æ‘„åƒæœºæ˜¯ä¸€ä¸ªç‚¹ï¼Œå…‰æºä¹Ÿæ˜¯ç‚¹å…‰æºï¼Œå…‰çº¿çš„åå°„éƒ½æ˜¯å®Œç¾çš„åå°„

![image-20250929112723886](assets/image-20250929112723886.png)

![image-20250929112812897](assets/image-20250929112812897.png)

![image-20250929112917678](assets/image-20250929112917678.png)

ä¸Šé¢çš„å…‰çº¿è¿½è¸ªæ€æƒ³éå¸¸ç®€å•ï¼Œç”±äºå…‰è·¯å¯é€†çš„ç¼˜æ•…ï¼Œæˆ‘ä»¬å¯ä»¥ä»æ‘„åƒæœºå‘å‡ºâ€œè§†çº¿â€åˆ°åœºæ™¯ä¸­ï¼Œå¯¹ç¬¬ä¸€ä¸ªé‡åˆ°çš„ç©ºé—´ç‚¹åšåˆ¤å®šï¼Œåˆ¤å®šçš„æ–¹å¼æ˜¯ä»å…‰æºå‘è¿™ä¸ªç‚¹å‘å‡ºä¸€æ ¹å…‰çº¿ï¼Œçœ‹çœ‹å…‰èƒ½ä¸èƒ½ç›´æ¥åˆ°è¾¾å®ƒï¼Œå¦‚æœå¯ä»¥ï¼Œè¿™ä¸ªç‚¹å°±å¯ä»¥è¢«ç…§äº®

ä½†æ˜¯è¿™æ ·åªèƒ½å¤„ç†å…‰çº¿åå¼¹ä¸€æ¬¡çš„æƒ…å†µ



#### Whited-Style Ray Tracing

![image-20250929113313696](assets/image-20250929113313696.png)

![image-20250929113640880](assets/image-20250929113640880.png)

å…‰çº¿å¯ä»¥ç»§ç»­æŠ˜å°„/åå°„

![image-20250929113739239](assets/image-20250929113739239.png)

å…‰çš„æ¯ä¸ªç€è½ç‚¹éƒ½å¯ä»¥å’Œå…‰æºè¿›è¡Œè¿çº¿è¿›è¡Œè®¡ç®—ï¼Œæœ€ç»ˆåŠ å’Œåˆ°ç€è‰²çš„ç»“æœ

å½“ç„¶æ¯æ¬¡å…‰æŠ˜å°„/åå°„éƒ½æ˜¯åº”è¯¥æœ‰èƒ½é‡æŸå¤±çš„

![image-20250929113950073](assets/image-20250929113950073.png)

å…‰çº¿çš„åŒºåˆ†â†‘



## å…‰çº¿ç›¸å…³çš„è®¡ç®—é—®é¢˜

![image-20250929114417416](assets/image-20250929114417416.png)

![image-20250929114655714](assets/image-20250929114655714.png)

![image-20250929114849327](assets/image-20250929114849327.png)



### **å…‰çº¿å’Œéšå¼è¡¨é¢æ±‚äº¤ç‚¹**

![image-20250929115001703](assets/image-20250929115001703.png)



### **å…‰çº¿å’Œä¸‰è§’å½¢æ±‚äº¤ç‚¹**

![image-20250929115256816](assets/image-20250929115256816.png)

![image-20250929115505926](assets/image-20250929115505926.png)

å…‰çº¿å’Œä¸‰è§’å½¢æ±‚äº¤ç‚¹çš„æ–¹æ³•åˆ†æˆä¸¤æ­¥ï¼š

1. å…ˆæ±‚å…‰çº¿å’Œä¸‰è§’å½¢æ‰€åœ¨çš„å¹³é¢æ˜¯å¦æœ‰äº¤ç‚¹
2. å¦‚æœæœ‰äº¤ç‚¹ï¼Œå†æ±‚å®ƒæ˜¯ä¸æ˜¯åœ¨ä¸‰è§’å½¢å†…ï¼ˆç®€å•ï¼Œä¹‹å‰åšè¿‡å¾ˆå¤šæ¬¡äº†ï¼‰

![image-20250929115818144](assets/image-20250929115818144.png)

å¹³é¢æ–¹ç¨‹â†‘

![image-20250929120153247](assets/image-20250929120153247.png)

**èƒ½ä¸èƒ½ä¸€æ¬¡ç®—å‡ºå…‰çº¿å’Œä¸‰è§’å½¢æœ‰æ²¡æœ‰äº¤ç‚¹ï¼Ÿ**

![image-20250929120344446](assets/image-20250929120344446.png)

ezï¼Œä¸‰è§’å½¢å†…çš„ç‚¹å¿…ç„¶æ»¡è¶³é‡å¿ƒåæ ‡ï¼ŒæŠŠå…‰çº¿ä¸Šçš„ç‚¹ä»£å…¥é‡å¿ƒåæ ‡è¡¨è¾¾å¼ï¼Œç„¶åè§£ä¸‰ä¸ªæœªçŸ¥é‡ï¼š

tï¼ŒÎ±ï¼ŒÎ²

æœ€ä¸Šé¢çš„å¼å­çœ‹ä¸Šå»åªæœ‰ä¸€ä¸ªå¼å­ï¼Œå®é™…ä¸Šæ¯ä¸ªå‘é‡éƒ½æ˜¯ä¸‰ç»´çš„ï¼Œæ‰€ä»¥å¯¹xï¼Œyï¼Œzéƒ½å¯ä»¥æœ‰ä¸€æ¡å¼å­ï¼Œæ‰€ä»¥å°±æœ‰äº†ä¸‰æ¡å¼å­ï¼Œå°±å¯ä»¥è§£ä¸‰ä¸ªæœªçŸ¥é‡



## åŠ å¿«å…‰çº¿å’Œä¸‰è§’å½¢è¡¨é¢æ±‚äº¤ç‚¹çš„è¿‡ç¨‹

**æ€ä¹ˆåŠ å¿«å…‰çº¿å’Œä¸‰è§’å½¢è¡¨é¢æ±‚äº¤ç‚¹çš„è®¡ç®—ï¼Ÿ**

![image-20250929122928698](assets/image-20250929122928698.png)

ç®€å•æ±‚äº¤ç‚¹çš„æ–¹æ³•å¤ªæ…¢äº†

![image-20250929123039932](assets/image-20250929123039932.png)





![image-20250929123210342](assets/image-20250929123210342.png)

æŠŠç‰©ä½“æ”¾åœ¨åŒ…å›´ç›’ä¸­ï¼Œå¦‚æœä¸€æ ¹å…‰çº¿è¿ç‰©ä½“çš„åŒ…å›´ç›’éƒ½ç¢°ä¸åˆ°ï¼Œå°±æ›´ä¸ä¼šç¢°åˆ°æŠ±èµ·æ¥çš„ç‰©ä½“



å¯¹é•¿æ–¹ä½“çš„æ–°ç†è§£ï¼šä¸‰ä¸ªä¸¤ä¸¤ç›¸å¯¹çš„å¹³é¢çš„é›†åˆ

![image-20250929123508695](assets/image-20250929123508695.png)

å¦‚ä½•åˆ¤å®šå…‰çº¿æ˜¯å¦å’ŒåŒ…å›´ç›’ç›¸äº¤ï¼Ÿ

 ![image-20250929124034738](assets/image-20250929124034738.png)

å¯¹åŒ…å›´ç›’çš„æ¯ä¸¤ä¸ªâ€œå¯¹é¢â€åˆ†åˆ«è®¡ç®—å…‰çº¿ä¸å®ƒä»¬ç›¸äº¤çš„æ—¶é—´ï¼Œæœ€åå–æ—¶é—´æ®µçš„äº¤é›†ï¼Œå¾—åˆ°å…‰çº¿å®é™…ä¸Šåœ¨åŒ…å›´ç›’å†…çš„æ—¶é—´

![image-20250929124550650](assets/image-20250929124550650.png)

ä½†æ˜¯åœ¨è¿™ç§è®¡ç®—ä¸‹ï¼Œè¿˜å¾—è€ƒè™‘tç®—å‡ºæ¥æ˜¯è´Ÿæ•°çš„é—®é¢˜

![image-20250929124927875](assets/image-20250929124927875.png)



é€‰æ‹©åŒ…å›´ç›’æˆ‘ä»¬é€‰æ‹©â€œæ¨ªå¹³ç«–ç›´â€ï¼ˆè½´å¯¹é½ï¼ŒAxis-Alignedï¼‰çš„ç›’å­ï¼Œè¿™æ ·ä½¿å¾—å…‰çº¿å’ŒåŒ…å›´ç›’æ±‚äº¤ç‚¹çš„è®¡ç®—ä¼šæ›´ç®€å•



#### å¦‚ä½•åˆ©ç”¨AABBåŠ é€Ÿå…‰çº¿æ±‚äº¤ï¼Ÿ

![image-20250930105704127](assets/image-20250930105704127.png)

![image-20250930105749499](assets/image-20250930105749499.png)

ç»™åŒ…å›´ç›’åˆ’åˆ†ç½‘æ ¼ï¼ˆç«‹ä½“ç½‘æ ¼ï¼‰ï¼Œç„¶åç»™å’Œç‰©ä½“è¡¨é¢ç›¸äº¤çš„ç›’å­å˜æˆç°è‰²æ ‡è®°èµ·æ¥

å…‰çº¿å…ˆæŸ¥è¯¢æ˜¯å¦å’ŒæŸäº›ç›’å­ç›¸äº¤ï¼Œå†çœ‹çœ‹è¿™ä¸ªç›’å­æ˜¯ä¸æ˜¯è¢«æ ‡è®°ä¸ºâ€œç°è‰²â€ï¼Œå³è¿™ä¸ªç›’å­é‡Œæœ‰æ²¡æœ‰ç‰©ä½“ï¼Œå¦‚æœæœ‰ç‰©ä½“æ‰å»åˆ¤å®šäº¤ç‚¹

åŠ é€Ÿæ•ˆæœæ€æ ·ï¼Ÿ

![image-20250930110748220](assets/image-20250930110748220.png)

![image-20250930110829274](assets/image-20250930110829274.png)

![image-20250930110851140](assets/image-20250930110851140.png)

![image-20250930111010245](assets/image-20250930111010245.png)



#### Spatial Partition

![image-20250930111314535](assets/image-20250930111314535.png)

è™½ç„¶å…«å‰æ ‘å¾ˆç›´è§‚ï¼Œä½†å…«å‰æ ‘æ²¡é‚£ä¹ˆå¥½ç”¨

KD-Treeçš„é“ç†æ˜¯ï¼Œæ¯æ¬¡åªæŠŠä¸€ä¸ªå„è‡ªåˆ’åˆ†æˆä¸¤ä»½ï¼Œä½†ä¸æ˜¯å‡ç­‰äºŒåˆ†ï¼Œè€Œä¸”æ°´å¹³çš„åˆ‡åˆ†å’Œç«–ç›´çš„åˆ‡åˆ†æ˜¯äº¤æ›¿çš„

BSP-Treeä¹Ÿæ˜¯ä¸€ç§äºŒåˆ†æ–¹å¼ï¼Œä½†æ˜¯å®ƒä¸æ˜¯æ¨ªå¹³ç«–ç›´çš„åˆ’åˆ†



##### KD-Tree çš„å»ºç«‹

![image-20250930112130279](assets/image-20250930112130279.png)

åªéœ€è¦åœ¨å¶å­èŠ‚ç‚¹ä¸Šå­˜å‚¨å‡ ä½•å½¢çŠ¶

![image-20250930112504199](assets/image-20250930112504199.png)

![image-20250930112555940](assets/image-20250930112555940.png)

![image-20250930112724595](assets/image-20250930112724595.png)



**å¦‚ä½•åˆ¤å®šä¸‰è§’å½¢å’Œå“ªäº›ç›’å­ç›¸äº¤ï¼Ÿ**

å¾ˆå›°éš¾ï¼Œå¯¼è‡´KD-Treeçš„æ„é€ å¾ˆéº»çƒ¦

å¹¶ä¸”å½“ä¸€ä¸ªç‰©ä½“å’Œå¤šä¸ªå¶å­èŠ‚ç‚¹ä¸Šçš„ç›’å­ç›¸äº¤æ—¶ï¼Œä¼šå¯¼è‡´è¢«å­˜å‚¨å¤šä»½



#### Bounding Volume Hierarchy

BVHå¹¶éåˆ’åˆ†ç©ºé—´ï¼Œè€Œæ˜¯åˆ’åˆ†ç‰©ä½“

![image-20250930113846295](assets/image-20250930113846295.png)

![image-20250930113811459](assets/image-20250930113811459.png)

![image-20250930114040491](assets/image-20250930114040491.png)

BVHçš„ä¸€ä¸ªå¥½å¤„æ˜¯ï¼Œå®ƒè®©æ¯ä¸ªç‰©ä½“åªä¼šè¢«ä¸€ä¸ªåŒ…å›´ç›’å¼•ç”¨

BVHä¸­æœ€å…³é”®çš„æ˜¯å¦‚ä½•æŠŠä¸€ä¸ªå¤§åŒ…å›´ç›’ä¸­çš„ç‰©ä½“æ¯”è¾ƒæ°å½“åœ°åˆ’åˆ†æˆä¸¤ä¸ªæ–°çš„åŒ…å›´ç›’

![image-20250930114401267](assets/image-20250930114401267.png)

![image-20250930115058002](assets/image-20250930115058002.png)

![image-20250930115151991](assets/image-20250930115151991.png)

![image-20250930115227109](assets/image-20250930115227109.png)

![image-20250930115343301](assets/image-20250930115343301.png)



## Radiometry

Radiometry è¾å°„åº¦é‡å­¦

![image-20250930120110146](assets/image-20250930120110146.png)



![image-20250930131313218](assets/image-20250930131313218.png)



### ç‰©ç†é‡å®šä¹‰

#### Flux

![image-20250930131556475](assets/image-20250930131556475.png)

fluxï¼šé€šé‡ï¼Œèƒ½æµ

![image-20250930131916934](assets/image-20250930131916934.png)

![image-20250930132040159](assets/image-20250930132040159.png)

#### Radiant intensity

![image-20250930132130319](assets/image-20250930132130319.png)

![image-20250930132828751](assets/image-20250930132828751.png)

##### Solid Angle

![image-20250930133116758](assets/image-20250930133116758.png)

![image-20250930133133814](assets/image-20250930133133814.png)

![image-20250930133241197](assets/image-20250930133241197.png)

intensity è¡¨ç¤ºçš„å°±æ˜¯å…‰åœ¨æ–¹å‘ä¸Šçš„å¼ºåº¦

å¦‚æœåœ¨å„æ–¹å‘ä¸Šæ˜¯å‡åŒ€çš„ï¼Œå°±æ˜¯flux/4pi

#### Irradiance

![image-20250930142215692](assets/image-20250930142215692.png)

Irradiance è¾ç…§åº¦

![image-20250930142949839](assets/image-20250930142949839.png)

#### Radiance

![image-20250930143028068](assets/image-20250930143028068.png)

![image-20250930143104140](assets/image-20250930143104140.png)

![image-20250930143358284](assets/image-20250930143358284.png)

![image-20250930143716996](assets/image-20250930143716996.png)



![image-20250930143938695](assets/image-20250930143938695.png)

Irradianceï¼šç›¸å½“äºä¸€ä¸ªå°åŒºåŸŸæ”¶åˆ°çš„èƒ½é‡

radianceï¼šç›¸å½“äºä¸€ä¸ªå°åŒºåŸŸä»æŸä¸ªæ–¹å‘æ”¶åˆ°çš„è§’åº¦



### BRDF

![image-20250930144209312](assets/image-20250930144209312.png)

#### åå°„åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ

![image-20250930144252171](assets/image-20250930144252171.png)

#### The Reflection Equation

åå°„å¯ä»¥ç†è§£ä¸ºå…‰æ‰“åˆ°ä¸€ä¸ªç‰©ä½“ä¸Šçš„ä¸€ä¸ªè¡¨é¢ï¼Œç„¶åè¢«è¿™ä¸ªè¡¨é¢å¸æ”¶äº†ä¹‹åï¼Œè¿™ä¸ªè¡¨é¢å†å°†å®ƒçš„éƒ¨åˆ†é‡æ–°å‘å°„å‡ºå»

![image-20250930144803038](assets/image-20250930144803038.png)

![image-20250930145054761](assets/image-20250930145054761.png)

![image-20250930145409586](assets/image-20250930145409586.png)

#### The Rendering Equation

![image-20250930145652341](assets/image-20250930145652341.png)

åœ¨æ¸²æŸ“æ–¹ç¨‹ä¸­ï¼Œæ‰€æœ‰çš„â€œæ–¹å‘â€éƒ½è®¤ä¸ºæ˜¯**ä»å—å…‰ç‚¹å‡ºå‘**çš„

å¯¹äºä¸€ä¸ªä¼šè‡ªå‘å…‰çš„ç‚¹ï¼Œåªéœ€è¦å†åŠ ä¸Šå®ƒè‡ªå‘å…‰çš„å…‰ï¼Œå°±ä»Reflection Equation å¾—åˆ°äº†Rendering Equation



å•ç‚¹å…‰æºï¼šæ²¡æœ‰ç§¯åˆ†ï¼Œå› ä¸ºåªæœ‰ä¸€ä¸ªç‚¹

![image-20250930150109001](assets/image-20250930150109001.png)

å¤šç‚¹å…‰æºï¼šä¸æ˜¯ç§¯åˆ†è€Œæ˜¯æ±‚å’Œï¼Œå› ä¸ºå¤šç‚¹å…‰æºåªæ˜¯ç¦»æ•£çš„

![image-20250930150153660](assets/image-20250930150153660.png)

åŠ äº†é¢å…‰æºï¼šé¢å…‰æºå¯ä»¥è§†ä½œä¸ºç‚¹å…‰æºçš„é›†åˆï¼Œå¯¹ç«‹ä½“è§’ç§¯åˆ†BRDF

![image-20250930150232882](assets/image-20250930150232882.png)



å¯¹éç›´æ¥å…‰æºï¼Œä¹Ÿå°±æ˜¯å…¶ä»–ç‰©ä½“çš„åå°„ï¼Œåªéœ€æŠŠå®ƒè®¤ä¸ºæ˜¯ä¸€ä¸ªå…‰æº

![image-20250930150354060](assets/image-20250930150354060.png)







![image-20250930150455692](assets/image-20250930150455692.png)

ç®€åŒ–ä¹¦å†™ï¼Œä¸ºä»€ä¹ˆå¯ä»¥è¿™ä¹ˆå†™å…ˆåˆ«é—® 

![image-20250930150854192](assets/image-20250930150854192.png)



ä¸€ä¸ªç¥å¥‡çš„ä»ç§¯åˆ†è¿ç®—å˜æˆçŸ©é˜µè¿ç®—

![image-20250930150923689](assets/image-20250930150923689.png)

![image-20250930151118098](assets/image-20250930151118098.png)



![image-20251009102812662](assets/image-20251009102812662.png)

å…‰æ …åŒ–æ¯”è¾ƒå®¹æ˜“åšçš„å°±æ˜¯å…‰æºè‡ªå‘å…‰å’Œç›´æ¥å…‰ç…§





![image-20251009102956580](assets/image-20251009102956580.png)

![image-20251009103008489](assets/image-20251009103008489.png)

![image-20251009103030340](assets/image-20251009103030340.png)

![image-20251009103057243](assets/image-20251009103057243.png)

å½“åˆ°å››æ¬¡å¼¹å°„æ—¶ï¼Œæ‰èƒ½çœ‹è§é€æ˜çš„ç»ç’ƒï¼Œå› ä¸ºæˆ‘ä»¬æ˜¯ä»æ‘„åƒæœºå‘å‡ºâ€è§†çº¿â€œæ¥æ”¶é›†å…‰ç…§ä¿¡æ¯ï¼Œè€Œåœ¨ç»ç’ƒä¸­ï¼Œå…‰çº¿èµ·ç è¦å¼¹å‡ æ¬¡æ‰èƒ½å‡ºæ¥



## ç®€å•çš„æ¦‚ç‡è®ºåŸºç¡€

![image-20251009103545214](assets/image-20251009103545214.png)

![image-20251009103715501](assets/image-20251009103715501.png)

![image-20251009103830158](assets/image-20251009103830158.png)



è¿ç»­å˜é‡çš„æ¦‚ç‡ï¼š

![image-20251009103927563](assets/image-20251009103927563.png)

è¿™ä¸ªæ›²çº¿å«åšæ¦‚ç‡å¯†åº¦å‡½æ•°ğŸ‘†

![image-20251009104242396](assets/image-20251009104242396.png)



### è’™ç‰¹å¡æ´›ç§¯åˆ†

![image-20251009110428375](assets/image-20251009110428375.png)

![image-20251009110454423](assets/image-20251009110454423.png)

å¯¹ä¸å¥½è§£æåœ°è§£å‡ºç»“æœçš„å‡½æ•°å®šç§¯åˆ†ï¼Œå°±å¯ä»¥é‡‡å–è’™ç‰¹å¡æ´›ç§¯åˆ†çš„æ–¹æ³•

è’™ç‰¹å¡æ´›ç§¯åˆ†å°±æ˜¯ä¸€ç§**é‡‡æ ·**çš„æ€æƒ³

![image-20251009110913117](assets/image-20251009110913117.png)



é‡‡ç”¨å¸¸æ•°æ¦‚ç‡å¯†åº¦å‡½æ•°ï¼š

![image-20251009111153935](assets/image-20251009111153935.png)

![image-20251009111710067](assets/image-20251009111710067.png)





## Path Tracing

![image-20251009111913191](assets/image-20251009111913191.png)

Whitted-Styleçš„å…‰è¿½åªå‡è®¾å…‰çº¿éƒ½éµä»é•œé¢åå°„çš„ä¼ æ’­ï¼Œè¿™æ ·å°±å¯¼è‡´æ¼«åå°„å…‰è¢«å¿½ç•¥äº†

 

![image-20251009112226442](assets/image-20251009112226442.png)

![image-20251009123359189](assets/image-20251009123359189.png)

![image-20251009123539233](assets/image-20251009123539233.png)

![image-20251009123838257](assets/image-20251009123838257.png)

![image-20251009124003124](assets/image-20251009124003124.png)

![image-20251009124207763](assets/image-20251009124207763.png)

![image-20251009124411851](assets/image-20251009124411851.png)

> [!IMPORTANT]
>
> è’™ç‰¹å¡æ´›ç§¯åˆ†è¦æ±‚å¯¹è°é‡‡æ ·å°±å¯¹è°ç§¯åˆ†ï¼Œå¾ˆé‡è¦ï¼Œè¿™æ˜¯ä¸€ä¸ªä¼ç¬”ï¼ï¼ï¼

![image-20251009125622494](assets/image-20251009125622494.png)

æƒ³ç®—æ¥è‡ªQç…§å‘Pçš„å…‰ï¼Œå¯ä»¥æŠŠPå½“ä½œä¸€ä¸ªè§‚å¯Ÿç‚¹ï¼Œå¦‚æ³•ç‚®åˆ¶

![image-20251009125740332](assets/image-20251009125740332.png)

ä½†æ˜¯äº‹æƒ…è¿˜æ²¡æœ‰è§£å†³ï¼Œæœ‰ä¸¤ä¸ªé—®é¢˜ï¼š

1. ç”±äºæ¯æ¬¡é€’å½’éƒ½å†å‘å‡ºNæ¡å…‰çº¿ï¼Œå½“N ï¼= 1ï¼Œé€’å½’æ—¶çš„è®¡ç®—è§„æ¨¡ä¼šæ— é™å¢å¤§
2. é€’å½’çš„ç»“æŸæ¡ä»¶æ²¡æœ‰ç»™å®š



#### è§£å†³è§„æ¨¡çˆ†ç‚¸çš„é—®é¢˜

![image-20251009170308113](assets/image-20251009170308113.png)

å½“ä¸”ä»…å½“N = 1æ—¶ï¼Œè®¡ç®—è§„æ¨¡æ‰ä¸ä¼šæ— é™å¢å¤§

![image-20251009170926085](assets/image-20251009170926085.png)

ç”¨N = 1çš„è’™ç‰¹å¡æ´›ç§¯åˆ†ï¼Œå°±æ˜¯Path Tracing

![image-20251009171009903](assets/image-20251009171009903.png)



é‡‡æ ·æ–¹æ³•ï¼š

![image-20251009171133283](assets/image-20251009171133283.png)



#### è§£å†³é€’å½’ä¸åœæ­¢çš„é—®é¢˜

![image-20251009171505787](assets/image-20251009171505787.png)

![image-20251009171559271](assets/image-20251009171559271.png)

![image-20251009171818312](assets/image-20251009171818312.png)



æ”¹è¿›åçš„ä¼ªä»£ç ï¼š

![image-20251009171917678](assets/image-20251009171917678.png)



#### é‡‡æ ·ç‡é—®é¢˜

![image-20251009172203400](assets/image-20251009172203400.png)

![image-20251009172307812](assets/image-20251009172307812.png)

å½“æˆ‘ä»¬åœ¨ç€è‰²ç‚¹å‡åŒ€å‘å¤–é‡‡æ ·æ—¶ï¼Œå¦‚æœå…‰æºç¦»ç€è‰²ç‚¹å¾ˆè¿œï¼Œç€è‰²ç‚¹å‘å¤–éšæœºå‘å‡ºå°„çº¿æ‰“åˆ°å…‰æºçš„æ¦‚ç‡ä¼šå¾ˆä½ï¼Œè¿™æ ·å°±å¯¼è‡´å‡†ç¡®ç‡ä¼šå¾ˆä½ã€‚

å¦‚æœæˆ‘ä»¬èƒ½ç›´æ¥å¯¹å…‰æºé‡‡æ ·ï¼Œå°±ä¸ä¼šæµªè´¹ä»»ä½•é‡‡æ ·å…‰çº¿

![image-20251009172828231](assets/image-20251009172828231.png)

ç°åœ¨æˆ‘ä»¬åœ¨å…‰æºä¸Šé‡‡æ ·ï¼Œä½†æ˜¯æˆ‘ä»¬è¦å¯¹ç€è‰²ç‚¹ä¸Šçš„å…‰ç…§ç§¯åˆ†ï¼Œä¸ºäº†æ»¡è¶³è’™ç‰¹å¡æ´›ç§¯åˆ†çš„æ¡ä»¶ï¼ˆå¯¹è°é‡‡æ ·å¯¹è°ç§¯åˆ†ï¼‰ï¼Œå¿…é¡»æŠŠdAè½¬åŒ–æˆdÏ‰



![image-20251009173218725](assets/image-20251009173218725.png)



å†åº¦æ”¹è‰¯ï¼š



![image-20251009173446247](assets/image-20251009174921265.png)

![image-20251009173713648](assets/image-20251009173713648.png)

å®é™…ä¸Šè¿™æ ·ç®—æ˜¯åˆ†åˆ«è®¡ç®—äº†ç›´æ¥å…‰ç…§å’Œé—´æ¥å…‰ç…§



è¿˜æœ‰é—®é¢˜ï¼š

å¦‚æœå…‰æºè¢«æŒ¡ä½äº†æ€ä¹ˆé‡‡æ ·ï¼Ÿ

![image-20251009173931497](assets/image-20251009173931497.png)

åŠ ä¸€ä¸ªåˆ¤æ–­å°±è¡Œ

![image-20251009174328190](assets/image-20251009174328190.png)

![image-20251009175420479](assets/image-20251009175420479.png)



![image-20251009180212726](assets/image-20251009180212726.png)

![image-20251009180515116](assets/image-20251009180515116.png)